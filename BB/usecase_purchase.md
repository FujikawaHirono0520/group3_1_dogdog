# ユースケース名
- 商品の購入

# ユースケース概要
- 商品を購入する

# アクター
- 顧客

# 事前条件
- カートの閲覧画面が表示されている

# 事後条件
- 決済完了画面が表示されている

# 基本フロー
1. 顧客がカート一覧画面の「購入」を選択する
2. システムがログイン状態を確認する
    1. 未ログイン状態であった場合代替フロー１へ
3. クレジットカード番号入力画面に遷移する
4. 顧客がクレジットカード番号を入力する
5. システムが決済APIに決済リクエストを送信する
6. システムが決済の成功を決済APIから受け取る
    1. 失敗した場合、代替フロー２へ 
7. システムが在庫数から購入した分だけ数を引く
8. カート内の商品情報を削除する
9. 決済完了画面が表示される

# 代替フロー
1. ログイン画面が表示される
    1. 顧客がログイン情報を入力する
    1. ログイン後、カート一覧画面に遷移する
2. システムが決済の失敗情報とエラーコードを受け取る
    1. システムがエラーコードに対応したエラーメッセージを表示する
    2. カート一覧画面に遷移

# 関連情報