# ユースケース名
- 商品を返品する

# ユースケース概要
- 顧客が購入した商品を返品し、システムが返品処理と返金手続きを行う。

# アクター
- 顧客
- カスタマーサポート（返品承認などの手続きが必要な場合）

# 事前条件
- 商品の注文履歴から返品を選択する

# 事後条件
- 返品完了画面が表示されている

# 基本フロー
1. 注文履歴から商品を選び、「返品」を選択する
2. 返品確認画面に遷移する
3. 顧客は商品の状態や到着後の日数、到着時の写真など必要情報を入力し、送信する
   1. 返品可能期間を過ぎている場合は代替フロー1へ
   2. 商品が破損・条件不適合の場合は代替フロー2へ
4. カスタマーサポートは注文管理システムで対象顧客の注文履歴を確認する
   
3. カスタマーサポートは顧客に返品方法（配送業者による返送、送料自己負担）を案内する
4. 顧客は商品を配送業者に引き渡す
5. 配送業者は商品を倉庫に返送する
6. 倉庫担当者（またはシステム）は返送商品の到着を確認する
   
7. 倉庫は在庫数を更新し、注文管理システムに通知する
8. 注文管理システムは決済取消リクエストを決済APIに送信する
9. 決済APIが返金処理を実行する
10. 注文管理システムは顧客に返品・返金完了を通知する

# 代替フロー
1. 返品不可期間
「返品可能期間（商品到着から10日以内）を過ぎているため返品できません」と表示して処理終了
2. 破損・条件不適合
「商品状態が不良のため、返品は受け付けられません」と通知して処理終了

# 関連情報